<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BIOLOGY SMART-HUB 2.0</title>
  <link rel="stylesheet" href="./assets/style.css">
  <style>
    /* –ù–µ–≤–µ–ª–∏–∫—ñ —Å—Ç–∏–ª—ñ —Å–∞–º–µ –¥–ª—è –≥–æ–ª–æ–≤–Ω–æ—ó */
    .grid{
      display:grid;
      gap:14px;
    }
    @media (min-width: 900px){
      .grid.cols2{ grid-template-columns: 1fr 1fr; }
      .grid.cols3{ grid-template-columns: 1fr 1fr 1fr; }
    }
    .module{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(148,163,184,.18);
      border-radius: 18px;
      padding: 14px;
      color: #e2e8f0;
    }
    .module h3{ margin:0; font-size: 14px; line-height:1.25; }
    .module p{ margin:8px 0 0 0; color:#cbd5e1; font-size:12px; line-height:1.35; }
    .module .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .module a{
      text-decoration:none;
      padding:10px 12px;
      border-radius:14px;
      font-weight:900;
      border:1px solid rgba(148,163,184,.7);
      background:#fff;
      color:#0f172a;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .module a:hover{ background:#f8fafc; }
    .module a.primary{
      background:#2563eb;
      border-color:#2563eb;
      color:#fff;
    }
    .module a.primary:hover{ filter:brightness(.96); }

    .kpi{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;
    }
    .kpi .box{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(148,163,184,.18);
      border-radius: 16px;
      padding: 12px;
      min-width: 160px;
      color:#e2e8f0;
    }
    .kpi .n{ font-weight: 900; font-size: 22px; }
    .kpi .t{ color:#cbd5e1; font-size:12px; margin-top:4px; }

    .inputRow{ display:grid; gap:12px; }
    @media (min-width: 900px){ .inputRow{ grid-template-columns: 1fr 1fr 1fr; } }
    .help{
      color:#cbd5e1; font-size:12px; line-height:1.4;
      margin-top:10px;
    }

    .toast{
      display:none;
      position:fixed;
      right:14px;
      bottom:14px;
      background: rgba(15,23,42,.92);
      border: 1px solid rgba(148,163,184,.25);
      color:#e2e8f0;
      padding:10px 12px;
      border-radius:14px;
      z-index:999;
      max-width: 320px;
      font-size: 13px;
    }
    .toast.show{ display:block; }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div>
        <div class="brand">BIOLOGY SMART-HUB 2.0</div>
        <div style="font-size:12px;color:#cbd5e1;margin-top:2px">
          –ï–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—ó –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ç–∞ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–µ–π (–∞–≥—Ä–∞—Ä–Ω–∏–π —Å–µ–∫—Ç–æ—Ä)
        </div>
      </div>
      <div class="nav">
        <a href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a href="./workbook/m1.html">–ó–æ—à–∏—Ç</a>
        <a href="./prompts.html" title="–Ø–∫—â–æ —Å—Ç–≤–æ—Ä–∏—Ç–µ –æ–∫—Ä–µ–º—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ–º–ø—Ç—ñ–≤">–ü—Ä–æ–º–ø—Ç–∏</a>
        <a href="./report.html" title="–Ø–∫—â–æ —Å—Ç–≤–æ—Ä–∏—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É –∑–≤–µ–¥–µ–Ω–Ω—è">–ó–≤—ñ—Ç</a>
      </div>
    </div>
  </div>

  <div class="shell">
    <div class="grid cols2">
      <!-- –ü—Ä–æ—Ñ—ñ–ª—å -->
      <div class="card">
        <div style="font-weight:900;font-size:16px">–ü—Ä–æ—Ñ—ñ–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞</div>
        <div class="help">–¶—ñ –¥–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è —É –≤—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–æ—à–∏—Ç–∞ (m1‚Ä¶m10) —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ.</div>

        <div class="inputRow" style="margin-top:12px">
          <div>
            <div style="font-weight:800;font-size:12px;letter-spacing:.06em;text-transform:uppercase;color:#e2e8f0">–ü–Ü–ë</div>
            <input id="student" placeholder="–Ü–≤–∞–Ω–µ–Ω–∫–æ –Ü–≤–∞–Ω">
          </div>

          <div>
            <div style="font-weight:800;font-size:12px;letter-spacing:.06em;text-transform:uppercase;color:#e2e8f0">–ì—Ä—É–ø–∞</div>
            <input id="group" placeholder="21–∞ / 11–∑ / 31—Ñ">
          </div>

          <div>
            <div style="font-weight:800;font-size:12px;letter-spacing:.06em;text-transform:uppercase;color:#e2e8f0">–û–ü–ü</div>
            <select id="opp">
              <option>–í–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ —ñ –ø–µ—Ä–µ—Ä–æ–±–∫–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó —Ä–æ—Å–ª–∏–Ω–Ω–∏—Ü—Ç–≤–∞</option>
              <option>–ó–µ–º–ª–µ–≤–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—è</option>
              <option>–ó–µ–ª–µ–Ω–µ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ —ñ —Å–∞–¥–æ–≤–æ-–ø–∞—Ä–∫–æ–≤–µ –≥–æ—Å–ø–æ–¥–∞—Ä—Å—Ç–≤–æ</option>
              <option>–§—ñ–Ω–∞–Ω—Å–∏ —ñ –∫—Ä–µ–¥–∏—Ç</option>
              <option>–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å—å–∫–∏–π –æ–±–ª—ñ–∫</option>
              <option>–û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞</option>
              <option>–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä—ñ—è</option>
            </select>
          </div>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
          <button class="btn primary" id="saveProfile">–ó–±–µ—Ä–µ–≥—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</button>
          <button class="btn" id="resetAll" title="–û—á–∏—Å—Ç–∏—Ç—å —É—Å—ñ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ —É —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ">–°–∫–∏–Ω—É—Ç–∏ –¥–∞–Ω—ñ</button>
        </div>

        <div class="kpi" id="kpi"></div>
      </div>

      <!-- –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç -->
      <div class="card">
        <div style="font-weight:900;font-size:16px">–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç</div>
        <div class="help">
          1) –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ø—Ä–æ—Ñ—ñ–ª—å - 2) –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –º–æ–¥—É–ª—å - 3) –∑–±–µ—Ä–µ–∂—ñ—Ç—å - 4) –¥—Ä—É–∫/PDF –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ.
          <br>–ü—Ä–∞—Ü—é—î –±–µ–∑ —Å–µ—Ä–≤–µ—Ä—É. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ - —è–∫—â–æ –æ—á–∏—Å—Ç–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä, –≤–æ–Ω–∏ –∑–Ω–∏–∫–Ω—É—Ç—å.
        </div>

        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn blue" href="./workbook/m1.html" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px">üìò –í—ñ–¥–∫—Ä–∏—Ç–∏ –ú–æ–¥—É–ª—å 1</a>
          <a class="btn purple" href="./workbook/m4.html" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px">üß™ –í—ñ–¥–∫—Ä–∏—Ç–∏ –ú–æ–¥—É–ª—å 4</a>
          <a class="btn" href="./workbook/m10.html" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px">üå± –í—ñ–¥–∫—Ä–∏—Ç–∏ –ú–æ–¥—É–ª—å 10</a>
        </div>

        <hr class="sep">

        <div style="font-weight:900;font-size:14px;color:#e2e8f0">NotebookLM</div>
        <div class="help">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–∞—à AI-–Ω–æ—Ç–∞—Ç–Ω–∏–∫ (–≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –≤ –Ω–æ–≤—ñ–π –≤–∫–ª–∞–¥—Ü—ñ):</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
          <a class="btn" href="https://notebooklm.google.com/" target="_blank" rel="noopener" style="text-decoration:none;display:inline-flex;align-items:center;gap:8px">
            üß† –í—ñ–¥–∫—Ä–∏—Ç–∏ NotebookLM
          </a>
        </div>

        <div class="help" style="margin-top:10px">
          –Ø–∫—â–æ –∑–∞—Ö–æ—á–µ—Ç–µ - –¥–æ–¥–∞–º–æ –æ–∫—Ä–µ–º—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ–º–ø—Ç—ñ–≤ (`prompts.html`) —ñ –∑–≤—ñ—Ç (`report.html`). –ó–∞—Ä–∞–∑ –≥–æ–ª–æ–≤–Ω–µ - —Å—Ç–∞—Ä—Ç —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥—É–ª—ñ -->
    <div style="margin-top:14px">
      <div class="card">
        <div style="display:flex;align-items:flex-end;justify-content:space-between;gap:12px;flex-wrap:wrap">
          <div>
            <div style="font-weight:900;font-size:16px">–ú–æ–¥—É–ª—ñ –∑–æ—à–∏—Ç–∞</div>
            <div class="help">–ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å - –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª —É –ø–∞–ø—Ü—ñ <b>workbook/</b>. –í–∏ –Ω–∞–ø–æ–≤–Ω—é—î—Ç–µ —ó—Ö —è–∫ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ.</div>
          </div>
          <div class="tag">‚úÖ –ü—ñ–¥—Ö—ñ–¥: 10 –æ–∫—Ä–µ–º–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ - –æ–¥–∏–Ω —Å–ø—ñ–ª—å–Ω–∏–π —Å–∫—Ä–∏–ø—Ç</div>
        </div>

        <div class="grid cols2" style="margin-top:12px">
          <!-- –ú–æ–¥—É–ª—å–Ω—ñ –∫–∞—Ä—Ç–∫–∏ -->
          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 1. –í—Å—Ç—É–ø –¥–æ –±—ñ–æ–ª–æ–≥—ñ—ó. –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –∂–∏–≤–æ–≥–æ —Ç–∞ –º–µ—Ç–æ–¥–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è</h3>
            <p>workbook/m1.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m1.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m1.html#print" title="–ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –±—É–¥–µ –∫–Ω–æ–ø–∫–∞ –¥—Ä—É–∫—É">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 2. –ö–ª—ñ—Ç–∏–Ω–∞ - —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è –∂–∏–≤–æ–≥–æ. –ü–æ–¥—ñ–ª –∫–ª—ñ—Ç–∏–Ω</h3>
            <p>workbook/m2.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m2.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m2.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 3. –•—ñ–º—ñ—á–Ω–∏–π —Å–∫–ª–∞–¥ –∫–ª—ñ—Ç–∏–Ω–∏. –§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ —ñ –∫–ª—ñ—Ç–∏–Ω–Ω–µ –¥–∏—Ö–∞–Ω–Ω—è</h3>
            <p>workbook/m3.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m3.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m3.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 4. –û–¥–Ω–æ–∫–ª—ñ—Ç–∏–Ω–Ω—ñ –æ—Ä–≥–∞–Ω—ñ–∑–º–∏ —Ç–∞ –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ –±–∞–≥–∞—Ç–æ–∫–ª—ñ—Ç–∏–Ω–Ω–æ—Å—Ç—ñ</h3>
            <p>workbook/m4.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m4.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m4.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 5. –†–æ—Å–ª–∏–Ω–∞ —è–∫ —Ü—ñ–ª—ñ—Å–Ω–∏–π –æ—Ä–≥–∞–Ω—ñ–∑–º. –¢–∫–∞–Ω–∏–Ω–∏ —Ä–æ—Å–ª–∏–Ω</h3>
            <p>workbook/m5.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m5.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m5.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 6. –ö–æ—Ä—ñ–Ω—å - –≤–µ–≥–µ—Ç–∞—Ç–∏–≤–Ω–∏–π –æ—Ä–≥–∞–Ω —Ä–æ—Å–ª–∏–Ω–∏. –ë—É–¥–æ–≤–∞ —ñ –≤–∏–¥–æ–∑–º—ñ–Ω–∏</h3>
            <p>workbook/m6.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m6.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m6.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 7. –ü–∞–≥—ñ–Ω: –±—É–¥–æ–≤–∞, —Ä–æ–∑–≤–∏—Ç–æ–∫ —ñ –≤–∏–¥–æ–∑–º—ñ–Ω–∏</h3>
            <p>workbook/m7.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m7.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m7.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 8. –õ–∏—Å—Ç–æ–∫. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Ä–µ—á–æ–≤–∏–Ω —ñ —Ä—É—Ö–∏ —Ä–æ—Å–ª–∏–Ω</h3>
            <p>workbook/m8.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m8.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m8.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 9. –ì–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ñ –æ—Ä–≥–∞–Ω–∏ —Ä–æ—Å–ª–∏–Ω: –∫–≤—ñ—Ç–∫–∞, –Ω–∞—Å—ñ–Ω–∏–Ω–∞, –ø–ª—ñ–¥. –ó–∞–ø–∏–ª–µ–Ω–Ω—è —ñ –∑–∞–ø–ª—ñ–¥–Ω–µ–Ω–Ω—è</h3>
            <p>workbook/m9.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m9.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m9.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>

          <div class="module">
            <h3>–ú–æ–¥—É–ª—å 10. –†–æ–∑–º–Ω–æ–∂–µ–Ω–Ω—è —Ä–æ—Å–ª–∏–Ω: —Å—Ç–∞—Ç–µ–≤–µ, –Ω–µ—Å—Ç–∞—Ç–µ–≤–µ —ñ –≤–µ–≥–µ—Ç–∞—Ç–∏–≤–Ω–µ</h3>
            <p>workbook/m10.html</p>
            <div class="actions">
              <a class="primary" href="./workbook/m10.html">–í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–æ—à–∏—Ç</a>
              <a href="./workbook/m10.html#print">PDF/–î—Ä—É–∫</a>
            </div>
          </div>
        </div>

        <div class="help" style="margin-top:12px">
          –Ø–∫—â–æ —è–∫–æ–≥–æ—Å—å —Ñ–∞–π–ª—É —â–µ –Ω–µ–º–∞ - –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–∞—Å—Ç—å 404. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ. –°—Ç–≤–æ—Ä—é–π—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–æ—à–∏—Ç—ñ–≤ –ø–æ—Å—Ç—É–ø–æ–≤–æ.
        </div>
      </div>
    </div>

    <!-- –ü—ñ–¥–≤–∞–ª -->
    <div style="margin-top:14px" class="card">
      <div style="font-weight:900">–¢–µ—Ö–Ω—ñ—á–Ω–∞ –Ω–æ—Ç–∞—Ç–∫–∞</div>
      <div class="help">
        ‚Ä¢ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è: –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ (localStorage).<br>
        ‚Ä¢ –î–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –Ω–∞ —ñ–Ω—à–∏–π –ü–ö: –º–æ–∂–Ω–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏ ‚Äú–ï–∫—Å–ø–æ—Ä—Ç/–Ü–º–ø–æ—Ä—Ç JSON‚Äù.<br>
        ‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–æ—à–∏—Ç—ñ–≤ —Ä—ñ–∑–Ω–∞ - —Ü–µ –æ–∫, –±–æ –ª–æ–≥—ñ–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –æ–¥–Ω–∞–∫–æ–≤–∞ (—á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç–∏ data-save).
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const HUB_KEY = "biology_smart_hub_v2";

    function loadHub(){
      try{
        const raw = localStorage.getItem(HUB_KEY);
        return raw ? JSON.parse(raw) : { profile:{ student:"", group:"", opp:"" }, workbooks:{} };
      }catch{
        return { profile:{ student:"", group:"", opp:"" }, workbooks:{} };
      }
    }
    function saveHub(data){
      localStorage.setItem(HUB_KEY, JSON.stringify(data));
    }
    function toast(msg){
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(()=>t.classList.remove("show"), 2200);
    }

    function calcProgress(hub){
      // –¥—É–∂–µ –≥—Ä—É–±–æ: —Ä–∞—Ö—É—î–º–æ –º–æ–¥—É–ª—ñ, –¥–µ —î date –∞–±–æ score –∞–±–æ –±—É–¥—å-—è–∫–µ –ø–æ–ª–µ
      const ids = ["m1","m2","m3","m4","m5","m6","m7","m8","m9","m10"];
      let touched = 0;
      let scored = 0;
      for (const id of ids){
        const w = hub.workbooks?.[id];
        if (w && Object.keys(w).length) touched++;
        if (w && (w.score || w.date)) scored++;
      }
      return { touched, scored, total: ids.length };
    }

    const hub = loadHub();

    // –ü—Ä–æ—Å—Ç–∞–≤–ª—è—î–º–æ –ø—Ä–æ—Ñ—ñ–ª—å —É –ø–æ–ª—è
    const student = document.getElementById("student");
    const group = document.getElementById("group");
    const opp = document.getElementById("opp");

    student.value = hub.profile.student || "";
    group.value = hub.profile.group || "";
    if (hub.profile.opp) opp.value = hub.profile.opp;

    // KPI
    const p = calcProgress(hub);
    const kpi = document.getElementById("kpi");
    kpi.innerHTML = `
      <div class="box">
        <div class="n">${p.touched}/${p.total}</div>
        <div class="t">–º–æ–¥—É–ª—ñ–≤ –º–∞—é—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑–∞–ø–∏—Å–∏</div>
      </div>
      <div class="box">
        <div class="n">${p.scored}/${p.total}</div>
        <div class="t">–º–æ–¥—É–ª—ñ–≤ –º–∞—é—Ç—å –¥–∞—Ç—É/–æ—Ü—ñ–Ω–∫—É</div>
      </div>
    `;

    document.getElementById("saveProfile").addEventListener("click", ()=>{
      hub.profile.student = student.value.trim();
      hub.profile.group = group.value.trim();
      hub.profile.opp = opp.value;
      saveHub(hub);
      toast("–ü—Ä–æ—Ñ—ñ–ª—å –∑–±–µ—Ä–µ–∂–µ–Ω–æ.");
    });

    document.getElementById("resetAll").addEventListener("click", ()=>{
      const ok = confirm("–°–∫–∏–Ω—É—Ç–∏ –í–°–Ü –¥–∞–Ω—ñ —Ü—å–æ–≥–æ —Ö–∞–±—É –≤ —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ? –¶–µ –Ω–µ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è.");
      if (!ok) return;
      localStorage.removeItem(HUB_KEY);
      location.reload();
    });
  </script>
</body>
</html>
